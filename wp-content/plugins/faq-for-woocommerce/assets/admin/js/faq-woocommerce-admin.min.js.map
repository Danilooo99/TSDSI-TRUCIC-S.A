{"version":3,"sources":["faq-woocommerce-admin.js"],"names":["jQuery","document","ready","$","fn","putCursorAtEnd","this","$el","setTimeout","focus","is","el","length","len","val","setSelectionRange","scrollTop","faq_woocommerce","ajax_url","init","search_dom","ffw_admin","minimumResultsForSearch","_search_dom","__ffw_product_id","placeholder","allowClear","new_item_id","e","__ffw_products_faqs","nonce","faq_data","JSON","parse","post","addClass","product_id","response","wp","ajax","faq_insert_search_data","then","ffw_sorting_data","console","error","stringify","html","removeClass","fail","data","sortable","axis","select2","$modal","log","on","openPopupForm","closePopupForm","bind","hasClass","wpColorPicker","preventDefault","toggleOptionMetabox","submitModalForm","deleteAllFaq","deleteSingleFaq","openUpdatePopupForm","changePreviewImage","changeQuestionRange","tinymce","changeAnswerRange","$overlay","show","event","target","get","setContent","__ffw_question","ffw_answer_text","parent","toggleClass","filter","next","stop","tinyMCE","activeEditor","question","answer","faq_list","total_product","undefined","faq_delete_data","showCancelButton","hide","Toast","showConfirmButton","timer","Swal","fire","isConfirm","mixin","toast","position","timerProgressBar","addEventListener","stopTimer","indexOf","current_faq_id","icon","title","current_faq","parents","attr","index","splice","__ffw_old_answer","updated_faq_list","faq_updated_data","question_range_val","__ffw_id","scrollSensitivity","find","forcePlaceholderSize","selectedData","each","item","image_layout","text","answer_range_val","cursor","handle","helper","opacity","push","ffw_sortable","faq_sorted_list","faq_sorted_data"],"mappings":"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","file":"faq-woocommerce-admin.min.js","sourcesContent":["/**\n * Woocommerce FAQ Admin JS\n *\n * Copyright (c) 2019 wpfeel\n * Licensed under the GPLv2+ license.\n */\njQuery(document).ready(function ($) {\n\t'use strict';\n\n    jQuery.fn.putCursorAtEnd = function() {\n\n        return this.each(function() {\n\n            // Cache references\n            var $el = $(this),\n                el = this;\n\n            // Only focus if input isn't already\n            if (!$el.is(\":focus\")) {\n                $el.focus();\n            }\n\n            // If this function exists... (IE 9+)\n            if (el.setSelectionRange) {\n\n                // Double the length because Opera is inconsistent about whether a carriage return is one character or two.\n                var len = $el.val().length * 2;\n\n                // Timeout seems to be required for Blink\n                setTimeout(function() {\n                    el.setSelectionRange(len, len);\n                }, 1);\n\n            } else {\n\n                // As a fallback, replace the contents with itself\n                // Doesn't work in Chrome, but Chrome supports setSelectionRange\n                $el.val($el.val());\n\n            }\n\n            // Scroll to the bottom, in case we're in a tall textarea\n            // (Necessary for Firefox and Chrome)\n            this.scrollTop = 999999;\n\n        });\n\n    };\n\n\t$.faq_woocommerce = {\n        ajax_url: '',\n\t\tinit: function () {\n            //assign ajax url\n            this.ajax_url = ffw_admin.ajaxurl;\n\n            // modal form\n            var $modal = $('#ffw-popup-form-wrapper .ffw-modal-frame');\n\n\n            if( \"product\" === ffw_admin.current_post_type && \"edit\" === ffw_admin.current_page_action ) {\n                //ffw select2 init\n                let search_dom = $('.ffw_search');\n                search_dom.select2({\n                    placeholder: \"Select a faq post\",\n                    allowClear: true,\n                    minimumResultsForSearch: Infinity\n                });\n\n                search_dom.on(\"select2:select\", function(e) {\n                    console.log(\"hello puishak\");\n\n                    let __ffw_product_id    = $('#ffw_product_page_id').val();\n                    let nonce               = ffw_admin.nonce;\n                    let new_item_id         = $(this).val();\n                    let __ffw_products_faqs  = $('#ffw_products').val();\n                    __ffw_products_faqs = JSON.parse(__ffw_products_faqs);\n\n                    //show loader\n                    $('#ffw_product_data .ffw-product-loader').addClass('ffw-visible');\n\n                    //insert faq's data from search\n                    let faq_data = {\n                        'product_id': __ffw_product_id,\n                        'new_item_id': new_item_id,\n                        'product_faqs': __ffw_products_faqs,\n                    };\n\n                    wp.ajax.post( 'ffw_insert_data_from_search', {\n                        nonce: nonce,\n                        faq_insert_search_data: faq_data,\n                    } ).then( response => {\n                        console.log('success.......');\n                        console.log(response.message);\n                        console.log(response.updated_data);\n                        $('#ffw_products').val(JSON.stringify(response.updated_data));\n                        $('.ffw-body').html(response.faq_body);\n\n                        //hide loader\n                        $('#ffw_product_data .ffw-product-loader').removeClass('ffw-visible');\n\n                        // FAQ sorting\n                        $.faq_woocommerce.ffw_sorting_data();\n\n                    } ).fail( error => {\n                        console.log('erorr.......');\n                        console.log(error);\n\n                        //hide loader\n                        $('#ffw_product_data .ffw-product-loader').removeClass('ffw-visible');\n                    } );\n                });\n\n                //ffw sortable\n                $(\".ffw-sortable\").sortable({\n                    axis: 'y',\n                    update : function (event, ui) {\n                        var data = $(this).sortable('serialize');\n                        console.log(data);\n\n                    }\n                });\n            }\n\n            //ffw select2 init\n            if( ffw_admin.current_page_action ) {\n                console.log(ffw_admin.current_page_action);\n            }\n            let search_dom = $('.ffw-role-select');\n            search_dom.select2({\n                placeholder: \"Select Roles\",\n                allowClear: true,\n            });\n\n            //modal js\n            $(document).on('click', '#ffw-product-form-header .ffw-add-new', this.openPopupForm);\n            $(document).on('click', '#ffw-popup-form-wrapper .ffw-modal-close, #ffw-popup-form-wrapper input[type=\"button\"]', this.closePopupForm);\n            $modal.bind('webkitAnimationEnd oanimationend msAnimationEnd animationend', function(e){\n                if($modal.hasClass('state-leave')) {\n                  $modal.removeClass('state-leave');\n                }\n            });\n\n            //onchange popup answer, update answer textarea value\n            // wp.editor.initialize('#ffw_popup_answer', {\n            //     setup: function (editor) {\n            //         editor.on('change', function () {\n            //             editor.save();\n            //         });\n            //     }\n            // });\n\n\n            //style inputs as color picker\n            $('.ffw_question_text_color').wpColorPicker();\n            $('.ffw_question_bg_color').wpColorPicker();\n            $('.ffw_question_bg_secondary_color').wpColorPicker();\n            $('.ffw_question_border_color').wpColorPicker();\n            $('.ffw_answer_text_color').wpColorPicker();\n            $('.ffw_answer_bg_color').wpColorPicker();\n            $('.ffw_answer_border_color').wpColorPicker();\n            $('.ffw-comments-date-time-color').wpColorPicker();\n            $('.ffw-comments-content-color').wpColorPicker();\n            $('.ffw-comments-author-name-color').wpColorPicker();\n            $('.ffw-comments-submit-button-text-color').wpColorPicker();\n            $('.ffw-comments-reply-button-text-color').wpColorPicker();\n            $('.ffw-comments-submit-button-bg-color').wpColorPicker();\n            $('.ffw-comments-form-border-color').wpColorPicker();\n            $('.ffw-comments-form-title-color').wpColorPicker();\n            $('.ffw-comments-reply-form-title-color').wpColorPicker();\n            $('.ffw-comments-reply-form-submit-button-color').wpColorPicker();\n            $('.ffw-comments-reply-form-submit-button-bg-color').wpColorPicker();\n            $('.ffw-comments-reply-form-border-color').wpColorPicker();\n            $('.ffw-comments-reply-form-submit-button-text-color').wpColorPicker();\n\n\n\n            //metabox option js\n            $(document).on('click', '#ffw_product_data .ffw-metabox h3', this.toggleOptionMetabox);\n            $(document).on('click', '#ffw_modal_submit', this.submitModalForm);\n            $(document).on('click', '#ffw-delete-all-faq', this.deleteAllFaq);\n            $(document).on('click', '#ffw-product-form-header .ffw-single-delete-btn', this.deleteSingleFaq);\n            $(document).on('click', '#ffw-product-form-header .ffw-single-edit-btn', this.openUpdatePopupForm);\n            $(document).on('click', '.ffw-layout-select', this.changePreviewImage);\n            $(document).on('change', '.ffw_question_font_size', this.changeQuestionRange);\n            $(document).on('change', '.ffw_answer_font_size', this.changeAnswerRange);\n\n            // FAQ sorting\n            this.ffw_sorting_data();\n\n        },\n        openPopupForm: function(e) {\n            e.preventDefault();\n\n            $('#ffw_modal_submit').show();\n            $('#ffw_modal_update').hide();\n            \n            var $modal = $('.ffw-modal-frame');\n            var $overlay = $('.modal-overlay');\n            $overlay.addClass('state-show');\n            $modal.removeClass('state-leave').addClass('state-appear');\n\n            //focus input\n            setTimeout(function() { \n                $('#ffw-popup-form-wrapper .ffw-popup-form-add-question').focus();\n            }, 500);\n\n            //reset question and answers\n            $('#ffw-popup-form-wrapper .ffw-popup-form-add-question').val('');\n            if ( jQuery(\"#wp-ffw_popup_answer-wrap\").hasClass(\"tmce-active\") ) {\n                tinymce.get(\"ffw_popup_answer\").setContent('');\n            }\n        },\n        closePopupForm: function(e) {\n            e.preventDefault();\n\n            var $modal = $('.ffw-modal-frame');\n            var $overlay = $('.modal-overlay');\n            $overlay.removeClass('state-show');\n            $modal.removeClass('state-appear').addClass('state-leave');\n\t\t},\n        toggleOptionMetabox: function (e) {\n            e.preventDefault();\n\n            $( this ).parent( '.ffw-metabox' ).toggleClass( 'closed' ).toggleClass( 'open' );\n\n            // If the user clicks on some form input inside the h3, the box should not be toggled\n            if ( $( event.target ).filter( ':input, .ffw-sort, .ffw-handle-item' ).length ) {\n                return;\n            }\n\n            $( this ).next( '.ffw-metabox-content' ).stop().slideToggle();\n        },\n        submitModalForm: function (e) {\n            e.preventDefault();\n\n            //hide the popup\n            $('.ffw-modal-frame').removeClass('state-appear');\n            $('.modal-overlay ').removeClass('state-show');\n\n            //show loader\n            $('#ffw_product_data .ffw-product-loader').addClass('ffw-visible');\n\n            let __ffw_question  = $('#ffw-popup-form-wrapper .ffw-popup-form-add-question');\n            let ffw_answer_text = '';\n            if ( jQuery(\"#wp-ffw_popup_answer-wrap\").hasClass(\"tmce-active\") ) {\n                ffw_answer_text =  tinyMCE.activeEditor.getContent();\n            }\n            let __ffw_product_id        = $('#ffw_product_page_id').val();\n            let __ffw_products_faqs     = $('#ffw_products').val();\n                __ffw_products_faqs     = JSON.parse(__ffw_products_faqs);\n\n            let nonce = ffw_admin.nonce;\n            let ffw_question_val  = __ffw_question.val();\n\n            //insert faq's data\n            let faq_data = {\n                'question': ffw_question_val,\n                'answer': ffw_answer_text,\n                'product_id': __ffw_product_id,\n                'faq_list': __ffw_products_faqs,\n            };\n\n            wp.ajax.post( 'ffw_insert_new_faq', {\n                nonce: nonce,\n                faq_data: faq_data,\n            } ).then( response => {\n                console.log('success.......');\n                console.log(response.message);\n                $('#ffw_products').val(JSON.stringify(response.faq_data));\n                $('.ffw-body').html(response.faq);\n                $('.ffw-popup-form-add-question').val('');\n                $('.ffw-popup-form-add-answer').val('');\n\n                //hide loader\n                $('#ffw_product_data .ffw-product-loader').removeClass('ffw-visible');\n\n                // FAQ sorting\n                $.faq_woocommerce.ffw_sorting_data();\n\n            } ).fail( error => {\n                console.log('erorr.......');\n                console.log(error);\n\n                // FAQ sorting\n                $.faq_woocommerce.ffw_sorting_data();\n            } );\n\n        },\n        deleteAllFaq: function (e) {\n            e.preventDefault();\n\n            let __ffw_product_id    = $('#ffw_product_page_id').val();\n            let __ffw_products_faqs  = $('#ffw_products').val();\n                __ffw_products_faqs = JSON.parse(__ffw_products_faqs);\n            let nonce = ffw_admin.nonce;\n\n            let total_product = '';\n            if( undefined === __ffw_products_faqs || 0 === __ffw_products_faqs.length ) {\n                console.log(__ffw_products_faqs);\n                total_product = 0;\n\n            }\n\n            //insert faq's data\n            let faq_delete_data = {\n                'product_id': __ffw_product_id\n            };\n\n            //delete confirm popup\n            Swal.fire({\n                title: 'Delete all the faqs?',\n                icon: 'question',\n                showCancelButton: true,\n            }).then(function(isConfirm) {\n\n                if (isConfirm.isConfirmed) {\n\n                    wp.ajax.post( 'ffw_delete_all_faqs', {\n                        nonce: nonce,\n                        faq_delete_data: faq_delete_data,\n                    }).then( response => {\n                        console.log('success.......');\n                        console.log(response.success);\n\n                        if(response.success) {\n                            //item hide\n                            $('.ffw-metabox-item').hide();\n\n                            const Toast = Swal.mixin({\n                                toast: true,\n                                position: 'bottom-end',\n                                showConfirmButton: false,\n                                timer: 1500,\n                                timerProgressBar: true,\n                                didOpen: (toast) => {\n                                    toast.addEventListener('mouseenter', Swal.stopTimer);\n                                    toast.addEventListener('mouseleave', Swal.resumeTimer);\n                                }\n                            });\n\n                            Toast.fire({\n                                icon: 'success',\n                                title: 'Delete successfull.'\n                            });\n                        }\n\n                    }).fail( error => {\n                        console.log('erorr of delete faq.......');\n                        console.log(error);\n                    });\n\n                }\n            });\n\n        },\n        deleteSingleFaq: function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            let __ffw_product_id    = $('#ffw_product_page_id').val();\n            let __ffw_products_faqs  = $('#ffw_products').val();\n                __ffw_products_faqs = JSON.parse(__ffw_products_faqs);\n            let nonce = ffw_admin.nonce;\n            let current_faq = $(this).parents('.ffw-metabox-item');\n            let current_faq_id = $(this).attr('rel');\n\n            //delete confirm popup\n            Swal.fire({\n                title: 'Are you sure to Delete?',\n                icon: 'question',\n                showCancelButton: true,\n            }).then(function(isConfirm) {\n\n                if (isConfirm.isConfirmed) {\n\n                    const index = __ffw_products_faqs.indexOf(current_faq_id);\n                    if (index > -1) {\n                        __ffw_products_faqs.splice(index, 1);\n                    }\n\n                    //update faq's data\n                    let faq_updated_data = {\n                        'product_id': __ffw_product_id,\n                        'updated_faq_list': __ffw_products_faqs\n                    };\n\n                    //hide current faq\n                    current_faq.hide();\n\n                    wp.ajax.post( 'ffw_delete_single_faq', {\n                        nonce: nonce,\n                        faq_updated_data: faq_updated_data,\n                    }).then( response => {\n                        console.log('success.......');\n                        console.log(response);\n                        console.log(JSON.stringify(response.update_faq_list));\n                        $('#ffw_products').val(JSON.stringify(response.update_faq_list));\n\n                    }).fail( error => {\n                        console.log('erorr of delete faq.......');\n                        console.log(error);\n                    });\n\n                }\n            });\n\n        },\n        openUpdatePopupForm: function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            $('#ffw_modal_submit').hide();\n            $('#ffw_modal_update').show();\n\n            //open modal\n            var $modal = $('.ffw-modal-frame');\n            var $overlay = $('.modal-overlay');\n            $overlay.addClass('state-show');\n            $modal.removeClass('state-leave').addClass('state-appear');\n\n            let __ffw_id = $(this).attr('rel');\n                $('#ffw-current-ques-id').val(__ffw_id);\n            let __ffw_old_question = $(this).parent('h3').find('strong').html();\n            let __ffw_old_answer = $(this).parents('.ffw-metabox-item').find('.ffw-metabox-content .data div').html();\n            let __ffw_question  = $('#ffw-popup-form-wrapper .ffw-popup-form-add-question');\n                __ffw_question.val(__ffw_old_question);\n\n            //focus input\n            setTimeout(function() {\n                $('#ffw-popup-form-wrapper .ffw-popup-form-add-question').focus().putCursorAtEnd();\n            }, 500);\n\n            //set value for answer\n            if ( jQuery(\"#wp-ffw_popup_answer-wrap\").hasClass(\"tmce-active\") ) {\n                tinymce.get(\"ffw_popup_answer\").setContent(__ffw_old_answer);\n            }\n        },\n        changePreviewImage: function(e) {\n            let current_image = $(this).val();\n\n            $('.ffw-setting-layout img').each(function(item) {\n               let image_layout = $(this).data('layout');\n               if( image_layout === parseInt(current_image) ) {\n                   $(this).removeClass('ffw-hide').addClass('ffw-visible');\n               }else {\n                   $(this).removeClass('ffw-visible').addClass('ffw-hide');\n               }\n            });\n        },\n        changeQuestionRange: function(e) {\n            let question_range_val = $(this).val();\n            $('.ffw_question_font_size_label').text(question_range_val + \"px\");\n        },\n        changeAnswerRange: function(e) {\n            let answer_range_val = $(this).val();\n            $('.ffw_answer_font_size_label').text(answer_range_val + \"px\");\n        },\n        ffw_sorting_data: function(e) {\n\n            // Allow FAQ sorting\n            $( '.ffw-sortable' ).sortable({\n                cursor:               'move',\n                axis:                 'y',\n                handle:               '.ffw-sort-icon',\n                scrollSensitivity:    40,\n                forcePlaceholderSize: true,\n                helper:               'clone',\n                opacity:              0.65,\n                stop:                 function() {\n                    var selectedData = [];\n                    $('.ffw-sortable .ffw-metabox-item').each(function() {\n                        selectedData.push($(this).attr(\"id\"));\n                    });\n                    $.faq_woocommerce.ffw_sortable(selectedData);\n                }\n            });\n        },\n        ffw_sortable: function(data) {\n            let __ffw_product_id    = $('#ffw_product_page_id').val();\n            let nonce               = ffw_admin.nonce;\n\n            //sort faq's data\n            let faq_data = {\n                'product_id': __ffw_product_id,\n                'faq_sorted_list': data,\n            };\n\n            wp.ajax.post( 'ffw_sort_faq_data', {\n                nonce: nonce,\n                faq_sorted_data: faq_data,\n            } ).then( response => {\n                console.log('success.......');\n                console.log(response.message);\n                $('#ffw_products').val(JSON.stringify(data));\n\n            } ).fail( error => {\n                console.log('erorr.......');\n                console.log(error);\n            } );\n        },\n\n\t};\n\n\n\t$.faq_woocommerce.init();\n});\n"]}